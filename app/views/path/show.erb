<div class="inner cover path-wrapper <%= select_first(:path, override: @path.id) %>" data-id="<%= @path.id %>">
    <h1 class="cover-heading">Path Requirements: <%= @path.name %></h1>
    <p class="lead">
    <dl class="dl-horizontal">
        <% @path.requirements_by_track.each do |tr, reqs| %>
            <h5><%= pp tr %></h5>
            <% reqs.each do |req| %>
                <dt><%= req.name %></dt>
                <dd>
                <div class="path-row" data-requirement="<%= req.id %>">
                    <% enrollments = sort(@path.enrollments(req)) %>
                    <% [req.min_count, enrollments.count].max.times do |i| %>
                        <%= render_cell enrollments[i] %> <%# Renders empty cells for unfilled requirements %>
                    <% end%>
                </div>
                </dd>
            <% end %>
        <% end %>


    </dl>
    <h5>Unassigned classes</h5>
    <ul class="extra-cells">
        <% sort(@path.unassigned_enrollments).each do |e| %>
        <li><%= render_cell e, closable:true %></li>
        <% end %>
    </ul>
    <br>
    <form action="/paths/<%= @path.id %>" method="post">
        <input type="hidden" name="_method" value="put">
        <%= csrf_tag %>
        <button type="submit" class="btn btn-lg btn-default autolayout">Autolayout all classes</button>
    </form>
    </p>
</div>
